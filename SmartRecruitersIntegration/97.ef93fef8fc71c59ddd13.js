(self.webpackChunksmart_recruiters_postings_list_app=self.webpackChunksmart_recruiters_postings_list_app||[]).push([[97],{6097:(t,e,i)=>{"use strict";i.r(e),i.d(e,{PostingsPageModule:()=>O});var n=i(1116),s=i(8147),a=i(3148),r=i(529),o=i(8619),g=i(8370),l=i(6795),c=i(7817),p=i(818),h=i(4818),d=i(5781),u=i(2181);const f=function(t){return{"filter-enabled":t}};let P=(()=>{class t{constructor(t){this.filtersService=t}showCountryFilters(){this.filtersService.setCountryModalVisibility(!0)}showDepartmentFilters(){this.filtersService.setDepartmentModalVisibility(!0)}hideCountryFilters(){this.filtersService.setCountryModalVisibility(!1)}hideDepartmentFilters(){this.filtersService.setDepartmentModalVisibility(!1)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(d.q))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-filters"]],decls:5,vars:6,consts:[[1,"filters-container"],["data-test","country-filters",1,"filter",3,"ngClass","click"],["data-test","department-filters",1,"filter",3,"ngClass","click"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.NdJ("click",function(){return e.showCountryFilters()}),o._uU(2,"Country"),o.qZA(),o.TgZ(3,"div",2),o.NdJ("click",function(){return e.showDepartmentFilters()}),o._uU(4,"Department"),o.qZA(),o.qZA()),2&t&&(o.xp6(1),o.Q6J("ngClass",o.VKq(2,f,e.filtersService.getAppliedCountryFilters().length>0)),o.xp6(2),o.Q6J("ngClass",o.VKq(4,f,e.filtersService.getAppliedDepartmentFilters().length>0)))},directives:[n.mk],styles:[".filters-container[_ngcontent-%COMP%]{height:58px;background-color:#f4f6f8;box-shadow:0 4px 4px 0 rgba(0,0,0,.4);display:flex;align-items:center;border-bottom-left-radius:2px;border-bottom-right-radius:2px}.filters-container[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{font-size:16px;font-weight:700;border:1px solid rgba(0,0,0,.1);padding:2px 12px;display:flex;justify-content:center;align-items:center;margin-left:12px;height:28px;background-color:#fff;color:rgba(0,0,0,.7);border-radius:24px;cursor:pointer}.filters-container[_ngcontent-%COMP%]   .filter-enabled[_ngcontent-%COMP%]{background-color:#057642;color:#fff}"]}),t})();var m=i(1041);let x=(()=>{class t{constructor(){this.changePage=1,this.currentPage=1,this.pageClickedEvent=new o.vpe}ngOnChanges(){this.currentPage=this.changePage}next(){this.currentPage<this.totalPages&&this.currentPage++,this.pageClickedEvent.emit(this.currentPage)}previous(){this.currentPage>1&&this.currentPage--,this.pageClickedEvent.emit(this.currentPage)}goToLastPage(){this.currentPage=this.totalPages,this.pageClickedEvent.emit(this.currentPage)}goToFirstPage(){this.currentPage=1,this.pageClickedEvent.emit(this.currentPage)}emitPageChangeByEnter(){this.currentPage>this.totalPages&&(this.currentPage=this.totalPages),this.pageClickedEvent.emit(this.currentPage)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-paginator"]],inputs:{totalPages:"totalPages",changePage:"changePage"},outputs:{pageClickedEvent:"pageClickedEvent"},features:[o.TTD],decls:19,vars:2,consts:[["aria-label","Page navigation"],[1,"pagination"],["title","First page",1,"page-item"],[1,"page-link",3,"click"],["aria-hidden","true",1,"fa","fa-step-backward"],[1,"page-item"],["aria-hidden","true",1,"fa","fa-angle-left"],[1,"page-link","page-input","w-10",3,"ngModel","ngModelChange","keyup.enter"],[1,"page-link","total-pages"],["title","Next",1,"page-item"],[1,"page-link","next-page",3,"click"],["aria-hidden","true",1,"fa","fa-angle-right"],["title","Last page",1,"page-item"],["aria-hidden","true",1,"fa","fa-step-forward"]],template:function(t,e){1&t&&(o.TgZ(0,"nav",0),o.TgZ(1,"ul",1),o.TgZ(2,"li",2),o.TgZ(3,"a",3),o.NdJ("click",function(){return e.goToFirstPage()}),o._UZ(4,"i",4),o.qZA(),o.qZA(),o.TgZ(5,"li",5),o.TgZ(6,"a",3),o.NdJ("click",function(){return e.previous()}),o._UZ(7,"i",6),o.qZA(),o.qZA(),o.TgZ(8,"li",5),o.TgZ(9,"input",7),o.NdJ("ngModelChange",function(t){return e.currentPage=t})("keyup.enter",function(){return e.emitPageChangeByEnter()}),o.qZA(),o.qZA(),o.TgZ(10,"li",5),o.TgZ(11,"a",8),o._uU(12),o.qZA(),o.qZA(),o.TgZ(13,"li",9),o.TgZ(14,"a",10),o.NdJ("click",function(){return e.next()}),o._UZ(15,"i",11),o.qZA(),o.qZA(),o.TgZ(16,"li",12),o.TgZ(17,"a",3),o.NdJ("click",function(){return e.goToLastPage()}),o._UZ(18,"i",13),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(9),o.Q6J("ngModel",e.currentPage),o.xp6(3),o.hij("of ",e.totalPages," "))},directives:[m.Fj,m.JJ,m.On],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;background-color:#f4f6f8;min-height:100vh;min-width:100vw;font-family:Verdana,Geneva,Tahoma,sans-serif}.page[_ngcontent-%COMP%]{width:100vw}.page-content[_ngcontent-%COMP%]{margin:0 240px;background-color:#fff}.d-flex[_ngcontent-%COMP%]{display:flex}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.mt-8px[_ngcontent-%COMP%]{margin-top:8px}.mb-8px[_ngcontent-%COMP%]{margin-bottom:8px}.mb-16px[_ngcontent-%COMP%]{margin-bottom:16px}@media (min-width:1261px) and (max-width:2048px){.page-content[_ngcontent-%COMP%]{margin:0 30%}}@media (min-width:901px) and (max-width:1260px){.page-content[_ngcontent-%COMP%]{margin:0 20%}}@media (min-width:601px) and (max-width:900px){.page-content[_ngcontent-%COMP%]{margin:0 120px}}@media (min-width:0px) and (max-width:600px){.page-content[_ngcontent-%COMP%]{margin:0}}[_nghost-%COMP%]{font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;font-family:Roboto,sans-serif;box-sizing:border-box}nav[_ngcontent-%COMP%]{font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:left;font-family:Roboto,sans-serif;box-sizing:border-box;display:block}.page-link[_ngcontent-%COMP%]{color:#000!important}.page-input[_ngcontent-%COMP%]{width:55px!important;text-align:right;cursor:text}.total-pages[_ngcontent-%COMP%]{border-left:none;word-spacing:5px}.pagination[_ngcontent-%COMP%]{text-align:left;margin-top:0;margin-bottom:1rem;display:flex;padding-left:0;border-radius:.25rem}.page-item[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]{line-height:1.5;color:#212529}.page-item[_ngcontent-%COMP%], .page-link[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]{font-size:1rem;font-weight:400;font-family:Roboto,sans-serif;box-sizing:border-box;list-style:none}.page-link[_ngcontent-%COMP%]{position:relative;display:block;padding:.5rem .75rem;line-height:1.25;background-color:#fff;border:1px solid #dee2e6;text-decoration:none;color:#10172c!important;cursor:pointer;margin-left:0;border-top-left-radius:.25rem;border-bottom-left-radius:.25rem;height:100%}"]}),t})();const v=["paginator"];function C(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",8),o.NdJ("click",function(){const e=o.CHM(t).$implicit;return o.oxw().navigateToPostingDetails(e.id)}),o.TgZ(1,"div",9),o._uU(2),o.qZA(),o.TgZ(3,"div",10),o._uU(4),o.qZA(),o.TgZ(5,"div",11),o._uU(6),o.qZA(),o.TgZ(7,"div",12),o._uU(8),o.qZA(),o.TgZ(9,"div",13),o._uU(10),o.qZA(),o.qZA()}if(2&t){const t=e.$implicit,i=o.oxw();o.xp6(2),o.hij(" ",t.name," "),o.xp6(2),o.hij(" ",t.company.name," "),o.xp6(2),o.hij(" ",t.location.city," "),o.xp6(2),o.hij(" ",t.typeOfEmployment.label," "),o.xp6(2),o.hij(" ",i.uiUtilitiesService.calculateDaysAgo(t.releasedDate)," ")}}function _(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"app-paginator",14),o.NdJ("pageClickedEvent",function(e){return o.CHM(t),o.oxw().paginatorNavigate(e)}),o.qZA()}if(2&t){const t=o.oxw();o.Q6J("changePage",t.currentPage)("totalPages",t.totalPages)}}const b=[{path:"",component:(()=>{class t{constructor(t,e,i,n,s,a,o,g){this.router=t,this.postingsFetchingService=e,this.countriesFetchingService=i,this.departmentsFetchingService=n,this.paginatorStateService=s,this.loadingSpinnerService=a,this.filtersService=o,this.uiUtilitiesService=g,this.PAGE_SIZE=10,this.currentPage=this.paginatorStateService.getPageState(),this.allPostings=[],this.filteredPostings=[],this.pageDisplayedFilteredPostings=[],this.companyName=r.N.companyName}ngOnInit(){this.loadingSpinnerService.showSpinner(),this.initializeCurrentPage(),this.getPostingsWithFilters().subscribe(t=>{this.loadingSpinnerService.hideSpinner(),this.setPostings(t[0]),this.displayPostingsPage(this.filteredPostings,this.currentPage,this.PAGE_SIZE),this.filtersService.setRequiredCountryFilters(t[0].content,t[1]),this.filtersService.setDepartmentFilters(t[2]),this.totalPages=this.calculateTotalPages(this.filteredPostings.length,this.PAGE_SIZE)},t=>{console.log(t),this.router.navigate(["/error-page"])}),this.filtersService.getCountryFiltersObservable().subscribe(t=>{this.filtersService.setAppliedCountryFilters(t),this.applyFilters()}),this.filtersService.getDepartmentFiltersObservable().subscribe(t=>{this.filtersService.setAppliedDepartmentFilters(t),this.applyFilters()})}getPostingsWithFilters(){return(0,a.D)([this.postingsFetchingService.getAllPostings(),this.countriesFetchingService.getAllCountries(),this.departmentsFetchingService.getAllDepartments()])}applyFilters(){this.filteredPostings=this.filtersService.filterPostings(this.allPostings),this.totalPages=this.calculateTotalPages(this.filteredPostings.length,this.PAGE_SIZE),this.displayPostingsPage(this.filteredPostings,this.currentPage,this.PAGE_SIZE),this.paginatorNavigate(this.paginatorStateService.getPageState())}setPostings(t){this.allPostings=t.content,this.filteredPostings=this.allPostings}displayPostingsPage(t,e,i){this.pageDisplayedFilteredPostings=this.setArrayPagingChunk(t,e,i)}setArrayPagingChunk(t,e,i){return t.slice(e*i-i,e*i)}calculateTotalPages(t,e){return Math.ceil(t/e)}paginatorNavigate(t){this.currentPage=t,this.paginatorStateService.setPageState(this.currentPage),this.displayPostingsPage(this.filteredPostings,this.currentPage,this.PAGE_SIZE)}displayPaginator(){return this.filteredPostings.length>this.PAGE_SIZE}initializeCurrentPage(){this.currentPage=this.paginatorStateService.getPageState()}navigateToPostingDetails(t){this.router.navigate(["/posting-details",t])}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(s.F0),o.Y36(g.O),o.Y36(l.t),o.Y36(c.l),o.Y36(p.P),o.Y36(h.o),o.Y36(d.q),o.Y36(u.x))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-postings-page"]],viewQuery:function(t,e){if(1&t&&o.Gf(v,5),2&t){let t;o.iGM(t=o.CRH())&&(e.paginator=t)}},decls:11,vars:4,consts:[[1,"page"],[1,"page-content"],[1,"postings-list"],[1,"postings-list-title"],["data-test","posting-results-number",1,"postings-list-results-number"],["data-test","posting","class","postings-list-element",3,"click",4,"ngFor","ngForOf"],[1,"paginator-container"],["class","paginator",3,"changePage","totalPages","pageClickedEvent",4,"ngIf"],["data-test","posting",1,"postings-list-element",3,"click"],["data-test","posting-name",1,"postings-list-element-title"],["data-test","posting-company-name",1,"postings-list-element-info","posting-company"],["data-test","posting-location",1,"postings-list-element-info","posting-location"],["data-test","posting-type-of-employment",1,"postings-list-element-type-of-employment"],["data-test","posting-time",1,"postings-list-element-posted-time"],[1,"paginator",3,"changePage","totalPages","pageClickedEvent"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o._UZ(2,"app-filters"),o.TgZ(3,"div",2),o.TgZ(4,"div",3),o._uU(5),o.qZA(),o.TgZ(6,"div",4),o._uU(7),o.qZA(),o.YNc(8,C,11,5,"div",5),o.qZA(),o.qZA(),o.TgZ(9,"div",6),o.YNc(10,_,1,2,"app-paginator",7),o.qZA(),o.qZA()),2&t&&(o.xp6(5),o.hij(" ",e.companyName," Jobs "),o.xp6(2),o.hij(" ",e.filteredPostings.length," results "),o.xp6(1),o.Q6J("ngForOf",e.pageDisplayedFilteredPostings),o.xp6(2),o.Q6J("ngIf",e.displayPaginator()))},directives:[P,n.sg,n.O5,x],styles:[".postings-list[_ngcontent-%COMP%]{padding:8px 0 0}.postings-list[_ngcontent-%COMP%]   .postings-list-title[_ngcontent-%COMP%]{margin:8px;font-size:16px}.postings-list[_ngcontent-%COMP%]   .postings-list-results-number[_ngcontent-%COMP%]{margin:8px;font-size:12px;color:grey;border-bottom:4px solid #f4f6f8}.postings-list[_ngcontent-%COMP%]   .postings-list-element[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid rgba(0,0,0,.08);font-size:14px;color:rgba(0,0,0,.6);cursor:pointer}.postings-list[_ngcontent-%COMP%]   .postings-list-element-title[_ngcontent-%COMP%]{color:#000;font-size:16px;font-weight:700}.postings-list[_ngcontent-%COMP%]   .postings-list-element-info[_ngcontent-%COMP%]{margin-top:4px}.postings-list[_ngcontent-%COMP%]   .postings-list-element-posted-time[_ngcontent-%COMP%]{margin-top:4px;font-weight:700;font-size:12px;color:#057642}.postings-list[_ngcontent-%COMP%]   .postings-list-element-type-of-employment[_ngcontent-%COMP%]{margin-top:4px;font-weight:700;font-size:12px;color:rgba(0,0,0,.6)}.paginator-container[_ngcontent-%COMP%]{margin-top:8px;justify-content:center;align-items:center;width:100%;display:flex}"]}),t})()}];let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[s.Bz.forChild(b)],s.Bz]}),t})();var Z=i(7647),M=i(2071);let O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[n.ez,y,Z.a,M.e]]}),t})()}}]);